# RCCL environment variables


To mention:

-   `NCCL_MIN_CHANNELS`
-   `MSCCLPP_READ_ALLRED`

## MSCCL/MSCCL++

See [RCCL usage tips, MSCCL/MSCCL++](https://rocm.docs.amd.com/projects/rccl/en/develop/how-to/rccl-usage-tips.html#msccl-msccl).

RCCL integrates [MSCCL](https://github.com/microsoft/msccl) and [MSCCL++](https://github.com/microsoft/mscclpp) 
to leverage these highly efficient GPU-GPU communication primitives for collective operations. 
Microsoft Corporation collaborated with AMD for this project.

-    `RCCL_MSCCL_FORCE_ENABLE`: MSCCL is only enabled by default on MI300X. You can enable it on
     other platforms by setting `RCCL_MSCCL_FORCE_ENABLE=1`.

-   `RCCL_MSCCL_ENABLE_SINGLE_PROCESS`: By default, MSCCL is only used if every rank belongs to a unique process. 
    To disable this restriction for multi-threaded or single-threaded configurations, use the setting 
    `RCCL_MSCCL_ENABLE_SINGLE_PROCESS=1`. 

-   `RCCL_MSCCLPP_ENABLE`: RCCL allreduce and allgather collectives can leverage the efficient 
    MSCCL++ communication kernels for certain message sizes. MSCCL++ support is available whenever 
    MSCCL support is available. To run a RCCL workload with MSCCL++ support, set the following 
    RCCL environment variable: `RCCL_MSCCLPP_ENABLE=1`.

-   `RCCL_MSCCLPP_THRESHOLD`: Set the message size threshold for using MSCCL++, default is 1MB.

